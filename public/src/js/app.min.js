deferredPrompt=null;var enableNotificationsButtons=document.querySelectorAll(".enable-notifications");function displayConfirmNotification(){var o={body:"You successfully subscribed to our Notification services ",icon:"/src/images/icons/app-icon-96x96.png",image:"/src/images/sf-boat.jpg",dir:"ltr",lang:"en-US",vibrate:[100,50,200],badge:"/src/images/icons/app-icon-96x96.png",tag:"confirm-notification",renotify:!0,actions:[{action:"confirm",title:"Ok",icon:"/src/images/icons/app-icon-96x96.png"},{action:"cancel",title:"Cancel",icon:"/src/images/icons/app-icon-96x96.png"}]};navigator.serviceWorker.ready.then(function(i){i.showNotification("Successfully subscribed (FROM SW!!)",o)})}function configurePushSub(){var o;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(i){return(o=i).pushManager.getSubscription()}).then(function(i){if(null==i)return i=urlBase64ToUint8Array("BBo-u3rf39PHr7FZM4P5Mm795QXaGsTnTL5DnCn9Drij5DBZctiMeMmniez9ldSQehR6hcK_zYOrtr1WSmELEZY"),o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i})}).then(function(i){fetch("https://practise-c4216-default-rtdb.firebaseio.com/subscriptions.json",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)}).then(function(i){i.ok&&displayConfirmNotification()}).catch(i=>{console.log(i)})})}function askForNotificationPermission(){Notification.requestPermission(function(i){console.log("User Choice",i),"granted"!=i?console.log("Permission Is Not Granted"):configurePushSub()})}if(window.Promise||(window.Promise=Promise),"serviceWorker"in navigator&&navigator.serviceWorker.register("../../service-worker.js").then(()=>{console.log("Service Worker Is Register")}),window.addEventListener("beforeinstallprompt",i=>(console.log("beforeinstallprompt is fired"),i.preventDefault(),deferredPrompt=i,!1)),"Notification"in window&&"serviceWorker"in navigator)for(var i=0;i<enableNotificationsButtons.length;i++)enableNotificationsButtons[i].style.display="inline-block",enableNotificationsButtons[i].addEventListener("click",askForNotificationPermission);else console.log("Notification Not Found");